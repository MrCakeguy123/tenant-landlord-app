{% extends "base.html" %}
{% block content %}
  <section class="card">
    <h1>{{ t('settings_title') }}</h1>
    <p class="subtitle">{{ t('settings_subtitle') }}</p>
  </section>

  <section class="card">
    <h2>{{ t('settings_profile') }}</h2>
    <form method="post" action="{{ url_for('update_profile') }}" class="form">
      <label>
        {{ t('settings_username') }}
        <input type="text" value="{{ user.username }}" disabled>
        <small class="form-hint">{{ t('settings_username_hint') }}</small>
      </label>
      <label>
        {{ t('settings_full_name') }}
        <input type="text" name="full_name" value="{{ user.full_name or '' }}">
      </label>
      <label>
        {{ t('settings_email') }}
        <input type="email" name="email" value="{{ user.email or '' }}">
      </label>
      <label>
        {{ t('settings_role') }}
        <input type="text" value="{% if user.role == 'tenant' %}{{ t('role_tenant') }}{% else %}{{ t('role_landlord') }}{% endif %}" disabled>
      </label>
      <button class="button primary" type="submit">{{ t('settings_update_profile') }}</button>
    </form>
  </section>

  <section class="card">
    <h2>{{ t('settings_password') }}</h2>
    <form method="post" action="{{ url_for('change_password') }}" class="form">
      <label>
        {{ t('settings_current_password') }}
        <input type="password" name="current_password" required>
      </label>
      <label>
        {{ t('settings_new_password') }}
        <input type="password" name="new_password" required>
      </label>
      <label>
        {{ t('settings_confirm_password') }}
        <input type="password" name="confirm_password" required>
      </label>
      <button class="button primary" type="submit">{{ t('settings_change_password') }}</button>
    </form>
  </section>

  <section class="card">
    <p>
      <a class="button" href="{{ url_for('dashboard') }}">{{ t('back_to_dashboard') }}</a>
    </p>
  </section>
{% endblock %}
